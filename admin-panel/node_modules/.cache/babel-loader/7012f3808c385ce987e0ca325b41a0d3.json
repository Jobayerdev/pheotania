{"ast":null,"code":"import jwt_decode from \"jwt-decode\";\nimport { storage } from \"@shared/utils\";\nexport const getSession = () => {\n  try {\n    const token = storage.getToken();\n\n    if (token) {\n      return jwt_decode(token);\n    } else {\n      return false;\n    }\n  } catch (error) {\n    return false;\n  }\n};\nexport const getPermissions = () => {\n  try {\n    const token = storage.getToken();\n\n    if (token) {\n      const decodeAccessToken = jwt_decode(token);\n      const decodePermissionToken = jwt_decode(decodeAccessToken.permissions);\n      return decodePermissionToken === null || decodePermissionToken === void 0 ? void 0 : decodePermissionToken.permissions;\n    } else {\n      return false;\n    }\n  } catch (error) {\n    return false;\n  }\n};","map":{"version":3,"sources":["/home/jobayer/Documents/@poshapets/poshapets-admin/src/@modules/auth/lib/index.tsx"],"names":["jwt_decode","storage","getSession","token","getToken","error","getPermissions","decodeAccessToken","decodePermissionToken","permissions"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,SAASC,OAAT,QAAwB,eAAxB;AAUA,OAAO,MAAMC,UAAU,GAAG,MAA0B;AACnD,MAAI;AACH,UAAMC,KAAuB,GAAGF,OAAO,CAACG,QAAR,EAAhC;;AACA,QAAID,KAAJ,EAAW;AACV,aAAOH,UAAU,CAACG,KAAD,CAAjB;AACA,KAFD,MAEO;AACN,aAAO,KAAP;AACA;AACD,GAPD,CAOE,OAAOE,KAAP,EAAc;AACf,WAAO,KAAP;AACA;AACD,CAXM;AAYP,OAAO,MAAMC,cAAc,GAAG,MAAwB;AACrD,MAAI;AACH,UAAMH,KAAuB,GAAGF,OAAO,CAACG,QAAR,EAAhC;;AACA,QAAID,KAAJ,EAAW;AACV,YAAMI,iBAA2B,GAAGP,UAAU,CAACG,KAAD,CAA9C;AACA,YAAMK,qBAA0B,GAAGR,UAAU,CAC5CO,iBAAiB,CAACE,WAD0B,CAA7C;AAGA,aAAOD,qBAAP,aAAOA,qBAAP,uBAAOA,qBAAqB,CAAEC,WAA9B;AACA,KAND,MAMO;AACN,aAAO,KAAP;AACA;AACD,GAXD,CAWE,OAAOJ,KAAP,EAAc;AACf,WAAO,KAAP;AACA;AACD,CAfM","sourcesContent":["import jwt_decode from \"jwt-decode\"\nimport { storage } from \"@shared/utils\"\ninterface ISession {\n\tid: string\n\tphoneNumber: string\n\tname: string\n\tpermissions: string\n\tiat: number\n\texp: number\n}\n\nexport const getSession = (): ISession | boolean => {\n\ttry {\n\t\tconst token: string | boolean = storage.getToken()\n\t\tif (token) {\n\t\t\treturn jwt_decode(token)\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} catch (error) {\n\t\treturn false\n\t}\n}\nexport const getPermissions = (): string[] | false => {\n\ttry {\n\t\tconst token: string | boolean = storage.getToken()\n\t\tif (token) {\n\t\t\tconst decodeAccessToken: ISession = jwt_decode(token)\n\t\t\tconst decodePermissionToken: any = jwt_decode(\n\t\t\t\tdecodeAccessToken.permissions\n\t\t\t)\n\t\t\treturn decodePermissionToken?.permissions\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}