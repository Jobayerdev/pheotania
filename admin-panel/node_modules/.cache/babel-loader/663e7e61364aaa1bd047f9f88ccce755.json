{"ast":null,"code":"import _slicedToArray from\"/home/jobayer/Documents/@poshapets/poshapets-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Popconfirm,Space,Table}from\"antd\";import{Link}from\"react-router-dom\";import{Paths}from\"@shared/enums\";import{useDeleteRole}from\"../hooks/useDeleteRole\";import{useRoles}from\"../hooks/useRoles\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserRoleList=function UserRoleList(){var _data$data,_data$data$payload,_data$data2;var deleteRole=useDeleteRole({});var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useRoles=useRoles({options:{page:page,take:10}}),data=_useRoles.data,isLoading=_useRoles.isLoading;var dataSource=data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:(_data$data$payload=_data$data.payload)===null||_data$data$payload===void 0?void 0:_data$data$payload.map(function(x){return{title:x.title,id:x.id,isActive:x.isActive.toString()};});var confirmDelete=function confirmDelete(id){deleteRole.mutateAsync(id);};var columns=[{title:\"Role Title\",dataIndex:\"title\",key:\"title\"},{title:\"Is Active\",dataIndex:\"isActive\",key:\"isActive\"},{title:\"Action\",key:\"id\",render:function render(record){return/*#__PURE__*/_jsxs(Space,{size:\"middle\",children:[/*#__PURE__*/_jsx(Link,{to:\"\".concat(Paths.RoleUpdate,\"/\").concat(record.id),children:\"Update\"}),/*#__PURE__*/_jsx(Popconfirm,{title:\"Are you sure to delete this role?\",onConfirm:function onConfirm(){return confirmDelete(record.id);},okText:\"Yes\",cancelText:\"No\",children:/*#__PURE__*/_jsx(Button,{type:\"primary\",danger:true,children:\" Delete \"})})]});}}];return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:dataSource,loading:isLoading,pagination:{pageSize:10,total:data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:_data$data2.total,onChange:function onChange(page){setPage(page);}}});};export default UserRoleList;","map":{"version":3,"sources":["/home/jobayer/Documents/@poshapets/poshapets-admin/src/@modules/permission/components/UserRoleList.tsx"],"names":["Button","Popconfirm","Space","Table","Link","Paths","useDeleteRole","useRoles","useState","UserRoleList","deleteRole","page","setPage","options","take","data","isLoading","dataSource","payload","map","x","title","id","isActive","toString","confirmDelete","mutateAsync","columns","dataIndex","key","render","record","RoleUpdate","pageSize","total","onChange"],"mappings":"yKAAA,OAASA,MAAT,CAAiBC,UAAjB,CAA6BC,KAA7B,CAAoCC,KAApC,KAAiD,MAAjD,CAGA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,KAAT,KAAsB,eAAtB,CACA,OAASC,aAAT,KAA8B,wBAA9B,CACA,OAASC,QAAT,KAAyB,mBAAzB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,+CAE1B,GAAMC,CAAAA,UAAU,CAAGJ,aAAa,CAAC,EAAD,CAAhC,CAIA,cAAwBE,QAAQ,CAAS,CAAT,CAAhC,wCAAOG,IAAP,eAAaC,OAAb,eAEA,cAA4BL,QAAQ,CAAC,CACpCM,OAAO,CAAE,CACRF,IAAI,CAAEA,IADE,CAERG,IAAI,CAAE,EAFE,CAD2B,CAAD,CAApC,CAAQC,IAAR,WAAQA,IAAR,CAAcC,SAAd,WAAcA,SAAd,CAOA,GAAMC,CAAAA,UAAU,CAAGF,IAAH,SAAGA,IAAH,6BAAGA,IAAI,CAAEA,IAAT,yDAAG,WAAYG,OAAf,6CAAG,mBAAqBC,GAArB,CAAyB,SAACC,CAAD,QAAe,CAC1DC,KAAK,CAAED,CAAC,CAACC,KADiD,CAE1DC,EAAE,CAAEF,CAAC,CAACE,EAFoD,CAG1DC,QAAQ,CAAEH,CAAC,CAACG,QAAF,CAAWC,QAAX,EAHgD,CAAf,EAAzB,CAAnB,CAMA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACH,EAAD,CAAgB,CACrCZ,UAAU,CAACgB,WAAX,CAAuBJ,EAAvB,EACA,CAFD,CAIA,GAAMK,CAAAA,OAAO,CAAG,CACf,CACCN,KAAK,CAAE,YADR,CAECO,SAAS,CAAE,OAFZ,CAGCC,GAAG,CAAE,OAHN,CADe,CAMf,CACCR,KAAK,CAAE,WADR,CAECO,SAAS,CAAE,UAFZ,CAGCC,GAAG,CAAE,UAHN,CANe,CAWf,CACCR,KAAK,CAAE,QADR,CAECQ,GAAG,CAAE,IAFN,CAGCC,MAAM,CAAE,gBAACC,MAAD,qBACP,MAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,wBACC,KAAC,IAAD,EAAM,EAAE,WAAK1B,KAAK,CAAC2B,UAAX,aAAyBD,MAAM,CAACT,EAAhC,CAAR,oBADD,cAGC,KAAC,UAAD,EACC,KAAK,CAAC,mCADP,CAEC,SAAS,CAAE,2BAAMG,CAAAA,aAAa,CAACM,MAAM,CAACT,EAAR,CAAnB,EAFZ,CAGC,MAAM,CAAC,KAHR,CAIC,UAAU,CAAC,IAJZ,uBAMC,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,MAAM,KAA7B,sBAND,EAHD,GADO,EAHT,CAXe,CAAhB,CA+BA,mBACC,KAAC,KAAD,EACC,OAAO,CAAEK,OADV,CAEC,UAAU,CAAEV,UAFb,CAGC,OAAO,CAAED,SAHV,CAIC,UAAU,CAAE,CACXiB,QAAQ,CAAE,EADC,CAEXC,KAAK,CAAEnB,IAAF,SAAEA,IAAF,8BAAEA,IAAI,CAAEA,IAAR,sCAAE,YAAYmB,KAFR,CAGXC,QAAQ,CAAE,kBAACxB,IAAD,CAAkB,CAC3BC,OAAO,CAACD,IAAD,CAAP,CACA,CALU,CAJb,EADD,CAcA,CAtED,CAwEA,cAAeF,CAAAA,YAAf","sourcesContent":["import { Button, Popconfirm, Space, Table } from \"antd\"\n\nimport { IRole } from \"@shared/interfaces\"\nimport { Link } from \"react-router-dom\"\nimport { Paths } from \"@shared/enums\"\nimport { useDeleteRole } from \"../hooks/useDeleteRole\"\nimport { useRoles } from \"../hooks/useRoles\"\nimport { useState } from \"react\"\n\nconst UserRoleList = () => {\n\n\tconst deleteRole = useDeleteRole({});\n\n\n\n\tconst [page, setPage] = useState<number>(1)\n\n\tconst { data, isLoading } = useRoles({\n\t\toptions: {\n\t\t\tpage: page,\n\t\t\ttake: 10,\n\t\t},\n\t});\n\n\tconst dataSource = data?.data?.payload?.map((x: IRole) => ({\n\t\ttitle: x.title,\n\t\tid: x.id,\n\t\tisActive: x.isActive.toString(),\n\t}));\n\n\tconst confirmDelete = (id: string) => {\n\t\tdeleteRole.mutateAsync(id)\n\t}\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: \"Role Title\",\n\t\t\tdataIndex: \"title\",\n\t\t\tkey: \"title\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"Is Active\",\n\t\t\tdataIndex: \"isActive\",\n\t\t\tkey: \"isActive\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"Action\",\n\t\t\tkey: \"id\",\n\t\t\trender: (record: any) => (\n\t\t\t\t<Space size=\"middle\">\n\t\t\t\t\t<Link to={`${Paths.RoleUpdate}/${record.id}`}>Update</Link>\n\n\t\t\t\t\t<Popconfirm\n\t\t\t\t\t\ttitle=\"Are you sure to delete this role?\"\n\t\t\t\t\t\tonConfirm={() => confirmDelete(record.id)}\n\t\t\t\t\t\tokText=\"Yes\"\n\t\t\t\t\t\tcancelText=\"No\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button type=\"primary\" danger> Delete </Button>\n\t\t\t\t\t</Popconfirm>\n\t\t\t\t</Space>\n\t\t\t),\n\t\t},\n\t]\n\n\treturn (\n\t\t<Table\n\t\t\tcolumns={columns}\n\t\t\tdataSource={dataSource}\n\t\t\tloading={isLoading}\n\t\t\tpagination={{\n\t\t\t\tpageSize: 10,\n\t\t\t\ttotal: data?.data?.total,\n\t\t\t\tonChange: (page: number) => {\n\t\t\t\t\tsetPage(page)\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t)\n}\n\nexport default UserRoleList\n"]},"metadata":{},"sourceType":"module"}