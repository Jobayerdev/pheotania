{"ast":null,"code":"import jwt_decode from \"jwt-decode\"; //base filter query utils\n\nexport const concatFilterQuery = options => {\n  return `searchTerm=${options.searchTerm || \"\"}&page=${options.page || \"\"}&take=${options.take || \"\"}&between=${options.between || \"\"}&before=${options.before || \"\"}&after=${options.after || \"\"}&fetchAll=${options.fetchAll || \"\"}&single=${options.single || \"\"}&relations=${options.relations || \"\"}&selects=${options.selects || \"\"}`;\n};\nconst storagePrefix = \"jd_react_\";\nexport const storage = {\n  getToken: () => {\n    if (!window.localStorage || !window.JSON) {\n      return false;\n    }\n\n    var item = localStorage.getItem(`${storagePrefix}token`);\n\n    if (!item) {\n      return false;\n    }\n\n    return JSON.parse(item);\n  },\n  setToken: token => {\n    window.localStorage.setItem(`${storagePrefix}token`, JSON.stringify(token));\n  },\n  clearToken: () => {\n    window.localStorage.removeItem(`${storagePrefix}token`);\n  },\n\n  setData(data, key) {\n    if (!window.localStorage || !window.JSON || !key) {\n      return;\n    }\n\n    localStorage.setItem(key, JSON.stringify(data));\n  },\n\n  getDate(key) {\n    if (!window.localStorage || !window.JSON || !key) {\n      return;\n    }\n\n    var item = localStorage.getItem(key);\n\n    if (!item) {\n      return;\n    }\n\n    return JSON.parse(item);\n  },\n\n  removeData(key) {\n    if (!window.localStorage || !window.JSON || !key) {\n      return;\n    }\n\n    localStorage.removeItem(key);\n  }\n\n};\nexport const getSession = () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    const decoded = jwt_decode(token);\n\n    if (decoded) {\n      return decoded;\n    } else {\n      return false;\n    }\n  } catch (error) {\n    return false;\n  }\n};","map":{"version":3,"sources":["/home/jobayer/Documents/@poshapets/poshapets-admin/src/@shared/utils/util-function.ts"],"names":["jwt_decode","concatFilterQuery","options","searchTerm","page","take","between","before","after","fetchAll","single","relations","selects","storagePrefix","storage","getToken","window","localStorage","JSON","item","getItem","parse","setToken","token","setItem","stringify","clearToken","removeItem","setData","data","key","getDate","removeData","getSession","decoded","error"],"mappings":"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","sourcesContent":["import { IBaseFilter } from \"@shared/interfaces\"\nimport jwt_decode from \"jwt-decode\"\n\n//base filter query utils\nexport const concatFilterQuery = (options: IBaseFilter): string => {\n\treturn `searchTerm=${options.searchTerm || \"\"}&page=${\n\t\toptions.page || \"\"\n\t}&take=${options.take || \"\"}&between=${options.between || \"\"}&before=${\n\t\toptions.before || \"\"\n\t}&after=${options.after || \"\"}&fetchAll=${options.fetchAll || \"\"}&single=${\n\t\toptions.single || \"\"\n\t}&relations=${options.relations || \"\"}&selects=${options.selects || \"\"}`\n}\n\nconst storagePrefix = \"jd_react_\"\n\nexport const storage = {\n\tgetToken: (): string | false => {\n\t\tif (!window.localStorage || !window.JSON) {\n\t\t\treturn false\n\t\t}\n\t\tvar item = localStorage.getItem(`${storagePrefix}token`)\n\n\t\tif (!item) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn JSON.parse(item) as string\n\t},\n\n\tsetToken: (token: string) => {\n\t\twindow.localStorage.setItem(`${storagePrefix}token`, JSON.stringify(token))\n\t},\n\n\tclearToken: () => {\n\t\twindow.localStorage.removeItem(`${storagePrefix}token`)\n\t},\n\n\tsetData(data: any, key: string) {\n\t\tif (!window.localStorage || !window.JSON || !key) {\n\t\t\treturn\n\t\t}\n\t\tlocalStorage.setItem(key, JSON.stringify(data))\n\t},\n\n\tgetDate(key: string) {\n\t\tif (!window.localStorage || !window.JSON || !key) {\n\t\t\treturn\n\t\t}\n\t\tvar item = localStorage.getItem(key)\n\n\t\tif (!item) {\n\t\t\treturn\n\t\t}\n\n\t\treturn JSON.parse(item)\n\t},\n\n\tremoveData(key: string) {\n\t\tif (!window.localStorage || !window.JSON || !key) {\n\t\t\treturn\n\t\t}\n\t\tlocalStorage.removeItem(key)\n\t},\n}\n\nexport const getSession = (): IToken | boolean => {\n\ttry {\n\t\tconst token: any = localStorage.getItem(\"token\")\n\t\tconst decoded: IToken = jwt_decode(token)\n\t\tif (decoded) {\n\t\t\treturn decoded\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t} catch (error) {\n\t\treturn false\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}