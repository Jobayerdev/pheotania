{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { queryClient } from \"@shared/config\";\nimport { RolesService } from \"@shared/services\";\nimport { notification } from \"antd\";\nimport { useMutation } from \"react-query\";\nexport const useDeleteRole = ({\n  config\n}) => {\n  _s();\n\n  return useMutation({\n    onMutate: async deletedRole => {\n      await queryClient.cancelQueries(\"userRoleList\");\n      const previousRole = queryClient.getQueryData(\"userRoleList\");\n      queryClient.setQueryData(\"userRoleList\", previousRole === null || previousRole === void 0 ? void 0 : previousRole.filter(role => {\n        return role.id !== deletedRole;\n      }));\n      return {\n        previousRole\n      };\n    },\n    onError: (_, __, context) => {\n      if (context === null || context === void 0 ? void 0 : context.previousUsers) {\n        queryClient.setQueryData(\"userRoleList\", context.previousUsers);\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries(\"userRoleList\");\n      notification.success({\n        type: \"success\",\n        message: \"Role Deleted\"\n      });\n    },\n    ...config,\n    mutationFn: RolesService.delete\n  });\n};\n\n_s(useDeleteRole, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});","map":{"version":3,"sources":["/home/jobayer/Documents/@poshapets/poshapets-admin/src/@modules/permission/hooks/useDeleteRole.ts"],"names":["queryClient","RolesService","notification","useMutation","useDeleteRole","config","onMutate","deletedRole","cancelQueries","previousRole","getQueryData","setQueryData","filter","role","id","onError","_","__","context","previousUsers","onSuccess","invalidateQueries","success","type","message","mutationFn","delete"],"mappings":";;AAAA,SAAsBA,WAAtB,QAAyC,gBAAzC;AAEA,SAASC,YAAT,QAA6B,kBAA7B;AACA,SAASC,YAAT,QAA6B,MAA7B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAMA,OAAO,MAAMC,aAAa,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAA8B;AAAA;;AAE1D,SAAOF,WAAW,CAAC;AAClBG,IAAAA,QAAQ,EAAE,MAAOC,WAAP,IAA4B;AAC5B,YAAMP,WAAW,CAACQ,aAAZ,CAA0B,cAA1B,CAAN;AACA,YAAMC,YAAY,GAAGT,WAAW,CAACU,YAAZ,CAAgC,cAAhC,CAArB;AACAV,MAAAA,WAAW,CAACW,YAAZ,CACI,cADJ,EAEIF,YAFJ,aAEIA,YAFJ,uBAEIA,YAAY,CAAEG,MAAd,CAAsBC,IAAD,IAAU;AAC3B,eAAOA,IAAI,CAACC,EAAL,KAAYP,WAAnB;AACH,OAFD,CAFJ;AAOA,aAAO;AAAEE,QAAAA;AAAF,OAAP;AACH,KAZW;AAaZM,IAAAA,OAAO,EAAE,CAACC,CAAD,EAAIC,EAAJ,EAAQC,OAAR,KAAyB;AAC9B,UAAIA,OAAJ,aAAIA,OAAJ,uBAAIA,OAAO,CAAEC,aAAb,EAA4B;AACxBnB,QAAAA,WAAW,CAACW,YAAZ,CAAyB,cAAzB,EAAyCO,OAAO,CAACC,aAAjD;AACH;AACJ,KAjBW;AAkBZC,IAAAA,SAAS,EAAE,MAAM;AACbpB,MAAAA,WAAW,CAACqB,iBAAZ,CAA8B,cAA9B;AACAnB,MAAAA,YAAY,CAACoB,OAAb,CAAqB;AACjBC,QAAAA,IAAI,EAAE,SADW;AAEjBC,QAAAA,OAAO,EAAE;AAFQ,OAArB;AAIH,KAxBW;AAyBlB,OAAGnB,MAzBe;AA0BlBoB,IAAAA,UAAU,EAAExB,YAAY,CAACyB;AA1BP,GAAD,CAAlB;AA4BA,CA9BM;;GAAMtB,a;UAELD,W","sourcesContent":["import { QueryConfig, queryClient } from \"@shared/config\"\n\nimport { RolesService } from \"@shared/services\"\nimport { notification } from \"antd\"\nimport { useMutation } from \"react-query\"\n\ntype RoleDeleteType = {\n\tconfig?: QueryConfig<typeof RolesService.delete>\n}\n\nexport const useDeleteRole = ({config}: RoleDeleteType) => {\n\t\n\treturn useMutation({\n\t\tonMutate: async (deletedRole: any) => {\n            await queryClient.cancelQueries(\"userRoleList\")\n            const previousRole = queryClient.getQueryData<any[]>(\"userRoleList\")\n            queryClient.setQueryData(\n                \"userRoleList\",\n                previousRole?.filter((role) => {\n                    return role.id !== deletedRole\n                })\n            )\n\n            return { previousRole }\n        },\n        onError: (_, __, context: any) => {\n            if (context?.previousUsers) {\n                queryClient.setQueryData(\"userRoleList\", context.previousUsers)\n            }\n        },\n        onSuccess: () => {\n            queryClient.invalidateQueries(\"userRoleList\")\n            notification.success({\n                type: \"success\",\n                message: \"Role Deleted\",\n            })\n        },\n\t\t...config,\n\t\tmutationFn: RolesService.delete,\n\t})\n}"]},"metadata":{},"sourceType":"module"}