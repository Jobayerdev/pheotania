{"ast":null,"code":"import _slicedToArray from\"/home/jobayer/Documents/@poshapets/poshapets-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Popconfirm,Space,Table}from\"antd\";import{Link}from\"react-router-dom\";import{Paths}from\"@shared/enums\";import{useDeletePermission}from\"../hooks/useDeletePermission\";import{usePermissions}from\"../hooks/usePermissions\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PermissionsList=function PermissionsList(){var _data$data,_data$data$payload,_data$data2;var deletePermission=useDeletePermission({});var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _usePermissions=usePermissions({options:{page:page,take:10}}),data=_usePermissions.data,isLoading=_usePermissions.isLoading;var dataSource=data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:(_data$data$payload=_data$data.payload)===null||_data$data$payload===void 0?void 0:_data$data$payload.map(function(x){return{id:x.id,title:x.title,isActive:x.isActive.toString()};});function confirmDelete(id){deletePermission.mutateAsync(id);}var columns=[{title:\"Permission Title\",dataIndex:\"title\",key:\"title\"},{title:\"Is Active\",dataIndex:\"isActive\",key:\"isActive\"},{title:\"Action\",key:\"id\",render:function render(record){return/*#__PURE__*/_jsxs(Space,{size:\"middle\",children:[/*#__PURE__*/_jsx(Link,{to:\"\".concat(Paths.PermissionsUpdate,\"/\").concat(record.id),children:\"Update\"}),/*#__PURE__*/_jsx(Popconfirm,{title:\"Are you sure to delete this permission?\",onConfirm:function onConfirm(){return confirmDelete(record.id);},okText:\"Yes\",cancelText:\"No\",children:/*#__PURE__*/_jsx(Button,{type:\"primary\",danger:true,children:\" Delete \"})})]});}}];return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:dataSource,loading:isLoading,pagination:{pageSize:10,total:data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:_data$data2.total,onChange:function onChange(page){setPage(page);}}});};export default PermissionsList;","map":{"version":3,"sources":["/home/jobayer/Documents/@poshapets/poshapets-admin/src/@modules/permission/components/PermissionsList.tsx"],"names":["Button","Popconfirm","Space","Table","Link","Paths","useDeletePermission","usePermissions","useState","PermissionsList","deletePermission","page","setPage","options","take","data","isLoading","dataSource","payload","map","x","id","title","isActive","toString","confirmDelete","mutateAsync","columns","dataIndex","key","render","record","PermissionsUpdate","pageSize","total","onChange"],"mappings":"yKAAA,OAASA,MAAT,CAAiBC,UAAjB,CAA6BC,KAA7B,CAAoCC,KAApC,KAAiD,MAAjD,CAGA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,KAAT,KAAsB,eAAtB,CACA,OAASC,mBAAT,KAAoC,8BAApC,CACA,OAASC,cAAT,KAA+B,yBAA/B,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,+CAE1B,GAAMC,CAAAA,gBAAgB,CAAGJ,mBAAmB,CAAC,EAAD,CAA5C,CAEA,cAAwBE,QAAQ,CAAS,CAAT,CAAhC,wCAAOG,IAAP,eAAaC,OAAb,eAEA,oBAA4BL,cAAc,CAAC,CACvCM,OAAO,CAAE,CACLF,IAAI,CAAEA,IADD,CAELG,IAAI,CAAE,EAFD,CAD8B,CAAD,CAA1C,CAAQC,IAAR,iBAAQA,IAAR,CAAcC,SAAd,iBAAcA,SAAd,CAOA,GAAMC,CAAAA,UAAU,CAAGF,IAAH,SAAGA,IAAH,6BAAGA,IAAI,CAAEA,IAAT,yDAAG,WAAYG,OAAf,6CAAG,mBAAqBC,GAArB,CAAyB,SAACC,CAAD,QAAsB,CAC9DC,EAAE,CAAED,CAAC,CAACC,EADwD,CAE9DC,KAAK,CAAEF,CAAC,CAACE,KAFqD,CAG9DC,QAAQ,CAAEH,CAAC,CAACG,QAAF,CAAWC,QAAX,EAHoD,CAAtB,EAAzB,CAAnB,CAMA,QAASC,CAAAA,aAAT,CAAuBJ,EAAvB,CAAmC,CAC/BX,gBAAgB,CAACgB,WAAjB,CAA6BL,EAA7B,EACH,CAED,GAAMM,CAAAA,OAAO,CAAG,CACZ,CACIL,KAAK,CAAE,kBADX,CAEIM,SAAS,CAAE,OAFf,CAGIC,GAAG,CAAE,OAHT,CADY,CAMZ,CACIP,KAAK,CAAE,WADX,CAEIM,SAAS,CAAE,UAFf,CAGIC,GAAG,CAAE,UAHT,CANY,CAWZ,CACIP,KAAK,CAAE,QADX,CAEIO,GAAG,CAAE,IAFT,CAGIC,MAAM,CAAE,gBAACC,MAAD,qBACJ,MAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,wBAEI,KAAC,IAAD,EAAM,EAAE,WAAK1B,KAAK,CAAC2B,iBAAX,aAAgCD,MAAM,CAACV,EAAvC,CAAR,oBAFJ,cAII,KAAC,UAAD,EACI,KAAK,CAAC,yCADV,CAEI,SAAS,CAAE,2BAAKI,CAAAA,aAAa,CAACM,MAAM,CAACV,EAAR,CAAlB,EAFf,CAGI,MAAM,CAAC,KAHX,CAII,UAAU,CAAC,IAJf,uBAMI,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,MAAM,KAA7B,sBANJ,EAJJ,GADI,EAHZ,CAXY,CAAhB,CAgCA,mBACI,KAAC,KAAD,EACI,OAAO,CAAEM,OADb,CAEI,UAAU,CAAEV,UAFhB,CAGI,OAAO,CAAED,SAHb,CAII,UAAU,CAAE,CACRiB,QAAQ,CAAE,EADF,CAERC,KAAK,CAAEnB,IAAF,SAAEA,IAAF,8BAAEA,IAAI,CAAEA,IAAR,sCAAE,YAAYmB,KAFX,CAGRC,QAAQ,CAAE,kBAACxB,IAAD,CAAkB,CACxBC,OAAO,CAACD,IAAD,CAAP,CACH,CALO,CAJhB,EADJ,CAcH,CArED,CAuEA,cAAeF,CAAAA,eAAf","sourcesContent":["import { Button, Popconfirm, Space, Table } from \"antd\"\n\nimport { IPermissions } from \"@shared/interfaces\"\nimport { Link } from \"react-router-dom\"\nimport { Paths } from \"@shared/enums\"\nimport { useDeletePermission } from \"../hooks/useDeletePermission\"\nimport { usePermissions } from \"../hooks/usePermissions\"\nimport { useState } from \"react\"\n\nconst PermissionsList = () => {\n\n    const deletePermission = useDeletePermission({})\n\n    const [page, setPage] = useState<number>(1)\n\n    const { data, isLoading } = usePermissions({\n        options: {\n            page: page,\n            take: 10,\n        },\n    })\n\n    const dataSource = data?.data?.payload?.map((x: IPermissions) => ({\n        id: x.id,\n        title: x.title,\n        isActive: x.isActive.toString(),\n    }))\n\n    function confirmDelete(id: string) {\n        deletePermission.mutateAsync(id)\n    }\n\n    const columns = [\n        {\n            title: \"Permission Title\",\n            dataIndex: \"title\",\n            key: \"title\",\n        },\n        {\n            title: \"Is Active\",\n            dataIndex: \"isActive\",\n            key: \"isActive\",\n        },\n        {\n            title: \"Action\",\n            key: \"id\",\n            render: (record: any) => (\n                <Space size=\"middle\">\n\n                    <Link to={`${Paths.PermissionsUpdate}/${record.id}`}>Update</Link>\n\n                    <Popconfirm\n                        title=\"Are you sure to delete this permission?\"\n                        onConfirm={() =>confirmDelete(record.id)}\n                        okText=\"Yes\"\n                        cancelText=\"No\"\n                    >\n                        <Button type=\"primary\" danger> Delete </Button>\n                    </Popconfirm>\n\n                </Space>\n            ),\n        },\n    ]\n    return (\n        <Table\n            columns={columns}\n            dataSource={dataSource}\n            loading={isLoading}\n            pagination={{\n                pageSize: 10,\n                total: data?.data?.total,\n                onChange: (page: number) => {\n                    setPage(page)\n                },\n            }}\n        />\n    );\n};\n\nexport default PermissionsList;"]},"metadata":{},"sourceType":"module"}