{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { queryClient } from \"@shared/config\";\nimport { PetTypeService } from \"@shared/services/petType.service\";\nimport { notification } from \"antd\";\nimport { useMutation } from \"react-query\";\nexport const useDeletePetType = ({\n  config\n} = {}) => {\n  _s();\n\n  return useMutation({\n    onMutate: async deletedPetType => {\n      await queryClient.cancelQueries(\"petTypeList\");\n      const previousPetType = queryClient.getQueryData(\"petTypeList\");\n      queryClient.setQueryData(\"petTypeList\", previousPetType === null || previousPetType === void 0 ? void 0 : previousPetType.filter(pts => {\n        return pts.id !== deletedPetType;\n      }));\n      return {\n        previousPetType: previousPetType\n      };\n    },\n    onError: (_, __, context) => {\n      if (context === null || context === void 0 ? void 0 : context.previousPetType) {\n        queryClient.setQueryData(\"petTypeList\", context.previousPetType);\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries(\"petTypeList\");\n      notification.success({\n        type: \"success\",\n        message: \"Pet Breed List Deleted\"\n      });\n    },\n    ...config,\n    mutationFn: PetTypeService.delete\n  });\n};\n\n_s(useDeletePetType, \"wwwtpB20p0aLiHIvSy5P98MwIUg=\", false, function () {\n  return [useMutation];\n});","map":{"version":3,"sources":["/home/jobayer/Documents/@projects-backlogs/Geflex/admin-panel/src/@modules/pet/hooks/useDeletePetType.ts"],"names":["queryClient","PetTypeService","notification","useMutation","useDeletePetType","config","onMutate","deletedPetType","cancelQueries","previousPetType","getQueryData","setQueryData","filter","pts","id","onError","_","__","context","onSuccess","invalidateQueries","success","type","message","mutationFn","delete"],"mappings":";;AAAA,SAAyBA,WAAzB,QAA4C,gBAA5C;AACA,SAASC,cAAT,QAA+B,kCAA/B;AACA,SAASC,YAAT,QAA6B,MAA7B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAMA,OAAO,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA;AAAF,IAA+B,EAAhC,KAAuC;AAAA;;AACtE,SAAOF,WAAW,CAAC;AAClBG,IAAAA,QAAQ,EAAE,MAAOC,cAAP,IAA+B;AACxC,YAAMP,WAAW,CAACQ,aAAZ,CAA0B,aAA1B,CAAN;AACA,YAAMC,eAAe,GAAGT,WAAW,CAACU,YAAZ,CAAgC,aAAhC,CAAxB;AACAV,MAAAA,WAAW,CAACW,YAAZ,CACC,aADD,EAECF,eAFD,aAECA,eAFD,uBAECA,eAAe,CAAEG,MAAjB,CAAyBC,GAAD,IAAS;AAChC,eAAOA,GAAG,CAACC,EAAJ,KAAWP,cAAlB;AACA,OAFD,CAFD;AAOA,aAAO;AAAEE,QAAAA,eAAe,EAAEA;AAAnB,OAAP;AACA,KAZiB;AAalBM,IAAAA,OAAO,EAAE,CAACC,CAAD,EAAIC,EAAJ,EAAQC,OAAR,KAAyB;AACjC,UAAIA,OAAJ,aAAIA,OAAJ,uBAAIA,OAAO,CAAET,eAAb,EAA8B;AAC7BT,QAAAA,WAAW,CAACW,YAAZ,CAAyB,aAAzB,EAAwCO,OAAO,CAACT,eAAhD;AACA;AACD,KAjBiB;AAkBlBU,IAAAA,SAAS,EAAE,MAAM;AAChBnB,MAAAA,WAAW,CAACoB,iBAAZ,CAA8B,aAA9B;AACAlB,MAAAA,YAAY,CAACmB,OAAb,CAAqB;AACpBC,QAAAA,IAAI,EAAE,SADc;AAEpBC,QAAAA,OAAO,EAAE;AAFW,OAArB;AAIA,KAxBiB;AAyBlB,OAAGlB,MAzBe;AA0BlBmB,IAAAA,UAAU,EAAEvB,cAAc,CAACwB;AA1BT,GAAD,CAAlB;AA4BA,CA7BM;;GAAMrB,gB;UACLD,W","sourcesContent":["import { MutationConfig, queryClient } from \"@shared/config\"\nimport { PetTypeService } from \"@shared/services/petType.service\"\nimport { notification } from \"antd\"\nimport { useMutation } from \"react-query\"\n\ntype UseDeletePetType = {\n\tconfig?: MutationConfig<typeof PetTypeService.delete>\n}\n\nexport const useDeletePetType = ({ config }: UseDeletePetType = {}) => {\n\treturn useMutation({\n\t\tonMutate: async (deletedPetType: any) => {\n\t\t\tawait queryClient.cancelQueries(\"petTypeList\")\n\t\t\tconst previousPetType = queryClient.getQueryData<any[]>(\"petTypeList\")\n\t\t\tqueryClient.setQueryData(\n\t\t\t\t\"petTypeList\",\n\t\t\t\tpreviousPetType?.filter((pts) => {\n\t\t\t\t\treturn pts.id !== deletedPetType\n\t\t\t\t})\n\t\t\t)\n\n\t\t\treturn { previousPetType: previousPetType }\n\t\t},\n\t\tonError: (_, __, context: any) => {\n\t\t\tif (context?.previousPetType) {\n\t\t\t\tqueryClient.setQueryData(\"petTypeList\", context.previousPetType)\n\t\t\t}\n\t\t},\n\t\tonSuccess: () => {\n\t\t\tqueryClient.invalidateQueries(\"petTypeList\")\n\t\t\tnotification.success({\n\t\t\t\ttype: \"success\",\n\t\t\t\tmessage: \"Pet Breed List Deleted\",\n\t\t\t})\n\t\t},\n\t\t...config,\n\t\tmutationFn: PetTypeService.delete,\n\t})\n}\n"]},"metadata":{},"sourceType":"module"}