{"ast":null,"code":"import _slicedToArray from\"/home/jobayer/Documents/@poshapets/poshapets-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Popconfirm,Space,Table}from\"antd\";import React,{useState}from\"react\";import{Paths}from\"@shared/enums\";import{useDeleteUser}from\"../hooks/useDeleteUser\";import{useNavigate}from\"react-router-dom\";import{useUsers}from\"../hooks/useUsers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var UsersList=function UsersList(){var _data$data,_data$data$payload,_data$data2;var navigate=useNavigate();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var deleteUserMutation=useDeleteUser();var _useUsers=useUsers({options:{page:page,take:10}}),data=_useUsers.data,isLoading=_useUsers.isLoading;var dataSource=data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:(_data$data$payload=_data$data.payload)===null||_data$data$payload===void 0?void 0:_data$data$payload.map(function(x){return{id:x.id,name:x.name,email:x.email,address:x.address||\"N/A\",phoneNumber:x.phoneNumber,type:x.type};});var columns=[{title:\"Name\",dataIndex:\"name\",key:\"name\"},{title:\"Email\",dataIndex:\"email\",key:\"email\"},{title:\"Address\",dataIndex:\"address\",key:\"address\"},{title:\"phoneNumber\",key:\"phoneNumber\",dataIndex:\"phoneNumber\"},{title:\"Type\",key:\"type\",dataIndex:\"type\"},{title:\"Action\",dataIndex:\"id\",key:\"id\",render:function render(id){return/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){return navigate(\"\".concat(Paths.UserUpdate,\"/\").concat(id));},children:\"Update\"}),/*#__PURE__*/_jsx(Popconfirm,{okButtonProps:{loading:false},title:\"Are you sure to delete this task?\",onConfirm:function onConfirm(){return deleteUserMutation.mutate(id);},okText:\"Yes\",cancelText:\"No\",children:/*#__PURE__*/_jsx(Button,{danger:true,type:\"primary\",children:\"Delete\"})})]});}}];return/*#__PURE__*/_jsx(Table,{columns:columns,dataSource:dataSource,loading:isLoading,pagination:{pageSize:10,total:data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:_data$data2.total,onChange:function onChange(page){setPage(page);}}});};","map":{"version":3,"sources":["/home/jobayer/Documents/@poshapets/poshapets-admin/src/@modules/users/components/UsersList.tsx"],"names":["Button","Popconfirm","Space","Table","React","useState","Paths","useDeleteUser","useNavigate","useUsers","UsersList","navigate","page","setPage","deleteUserMutation","options","take","data","isLoading","dataSource","payload","map","x","id","name","email","address","phoneNumber","type","columns","title","dataIndex","key","render","UserUpdate","loading","mutate","pageSize","total","onChange"],"mappings":"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","sourcesContent":["import { Button, Popconfirm, Space, Table } from \"antd\"\nimport React, { useState } from \"react\"\n\nimport { IUser } from \"@shared/interfaces\"\nimport { Paths } from \"@shared/enums\"\nimport { useDeleteUser } from \"../hooks/useDeleteUser\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useUsers } from \"../hooks/useUsers\"\n\nexport const UsersList = () => {\n\tconst navigate = useNavigate()\n\tconst [page, setPage] = useState<number>(1)\n\tconst deleteUserMutation = useDeleteUser()\n\n\tconst { data, isLoading } = useUsers({\n\t\toptions: {\n\t\t\tpage: page,\n\t\t\ttake: 10,\n\t\t},\n\t})\n\tconst dataSource = data?.data?.payload?.map((x: IUser) => ({\n\t\tid: x.id,\n\t\tname: x.name,\n\t\temail: x.email,\n\t\taddress: x.address || \"N/A\",\n\t\tphoneNumber: x.phoneNumber,\n\t\ttype: x.type,\n\t}))\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: \"Name\",\n\t\t\tdataIndex: \"name\",\n\t\t\tkey: \"name\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"Email\",\n\t\t\tdataIndex: \"email\",\n\t\t\tkey: \"email\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"Address\",\n\t\t\tdataIndex: \"address\",\n\t\t\tkey: \"address\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"phoneNumber\",\n\t\t\tkey: \"phoneNumber\",\n\t\t\tdataIndex: \"phoneNumber\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"Type\",\n\t\t\tkey: \"type\",\n\t\t\tdataIndex: \"type\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"Action\",\n\t\t\tdataIndex: \"id\",\n\t\t\tkey: \"id\",\n\t\t\trender: (id: any) => (\n\t\t\t\t<Space>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tonClick={() => navigate(`${Paths.UserUpdate}/${id}`)}>\n\t\t\t\t\t\tUpdate\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Popconfirm\n\t\t\t\t\t\tokButtonProps={{\n\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle=\"Are you sure to delete this task?\"\n\t\t\t\t\t\tonConfirm={() => deleteUserMutation.mutate(id)}\n\t\t\t\t\t\tokText=\"Yes\"\n\t\t\t\t\t\tcancelText=\"No\">\n\t\t\t\t\t\t<Button danger type=\"primary\">\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Popconfirm>\n\t\t\t\t</Space>\n\t\t\t),\n\t\t},\n\t]\n\n\treturn (\n\t\t<Table\n\t\t\tcolumns={columns}\n\t\t\tdataSource={dataSource}\n\t\t\tloading={isLoading}\n\t\t\tpagination={{\n\t\t\t\tpageSize: 10,\n\t\t\t\ttotal: data?.data?.total,\n\t\t\t\tonChange: (page: number) => {\n\t\t\t\t\tsetPage(page)\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}